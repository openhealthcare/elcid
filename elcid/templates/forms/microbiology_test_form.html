{% load forms %}
{% input "autofocus" field="MicrobiologyTest.test" lookuplist="microbiology_test_list" %}
{% datepicker field="MicrobiologyTest.date_ordered" %}
{% input field="MicrobiologyTest.details" %}

{% input field="MicrobiologyTest.microscopy" show="testType == 'micro_test_mcs'" %}
{% input field="MicrobiologyTest.organism" lookuplist="microbiology_organism_list" show="testType == 'micro_test_mcs'" %}

{% input field="MicrobiologyTest.sensitive_antibiotics" lookuplist="antimicrobial_list" show="testType == 'micro_test_mcs'" %}
{% input field="MicrobiologyTest.resistant_antibiotics" lookuplist="antimicrobial_list" show="testType == 'micro_test_mcs'" %}

{% radio field="MicrobiologyTest.igm" show="testType == 'micro_test_serology'" lookuplist="['pending', 'positive', 'negative', 'equivocal', 'not done']" %}
{% radio field="MicrobiologyTest.igg" show="testType == 'micro_test_serology'" lookuplist="['pending', 'positive', 'negative', 'equivocal', 'not done']" %}

{% radio field="MicrobiologyTest.vca_igm" show="testType == 'micro_test_ebv_serology'" lookuplist="['pending', 'positive', 'negative', 'equivocal', 'not done']" %}
{% radio field="MicrobiologyTest.vca_igg" show="testType == 'micro_test_ebv_serology'" lookuplist="['pending', 'positive', 'negative', 'equivocal', 'not done']" %}
{% radio field="MicrobiologyTest.ebna_igg" show="testType == 'micro_test_ebv_serology'" lookuplist="['pending', 'positive', 'negative', 'equivocal', 'not done']" %}

{% radio field="MicrobiologyTest.result" show="testType == 'micro_test_hiv'" lookuplist="['pending', 'antibody positive', 'p24 antigen only', 'negative']" element_name="test_hiv" %}

{% radio field="MicrobiologyTest.hbsag" show="testType == 'micro_test_hepititis_b_serology'" lookuplist="['pending', 'positive', 'negative', 'equivocal', 'not done']" %}
{% radio field="MicrobiologyTest.anti_hbs" show="testType == 'micro_test_hepititis_b_serology'" lookuplist="['pending', 'positive', 'negative', 'equivocal', 'not done']" %}
{% radio field="MicrobiologyTest.anti_hbcore_igm" show="testType == 'micro_test_hepititis_b_serology'" lookuplist="['pending', 'positive', 'negative', 'equivocal', 'not done']" %}
{% radio field="MicrobiologyTest.anti_hbcore_igg" show="testType == 'micro_test_hepititis_b_serology'" lookuplist="['pending', 'positive', 'negative', 'equivocal', 'not done']" %}

{% input field="MicrobiologyTest.rpr" label="RPR" model="editing.microbiology_test.rpr" show="testType == 'micro_test_syphilis_serology'" %}
{% radio field="MicrobiologyTest.tppa" show="testType == 'micro_test_syphilis_serology'" lookuplist="['pending', 'positive', 'negative']" %}

{% radio field="MicrobiologyTest.result" show="testType == 'micro_test_single_test_pos_neg'" lookuplist="['pending', 'positive', 'negative']" element_name="test_pos_neg" %}

{% radio field="MicrobiologyTest.result" show="testType == 'micro_test_single_test_pos_neg_equiv'" lookuplist="['pending', 'positive', 'negative', 'equivocal', 'not done']" element_name="test_pos_neg_equiv" %}

{% radio field="MicrobiologyTest.igg" show="testType == 'micro_test_single_igg_test'" lookuplist="['pending', 'positive', 'negative', 'equivocal', 'not done']" %}

{% input field="MicrobiologyTest.viral_load" show="testType == 'micro_test_viral_load'" %}

{% input field="MicrobiologyTest.parasitaemia" show="testType == 'micro_test_parasitaemia'" %}

{% radio field="MicrobiologyTest.hsv" show="testType == 'micro_test_swab_pcr'" lookuplist="['pending', 'positive', 'negative']" %}
{% radio field="MicrobiologyTest.vzv" show="testType == 'micro_test_swab_pcr'" lookuplist="['pending', 'positive', 'negative']" %}
{% radio field="MicrobiologyTest.syphilis" show="testType == 'micro_test_swab_pcr'" lookuplist="['pending', 'positive', 'negative']" %}

<span ng-show="testType == 'micro_test_c_difficile'">

  <div class="form-group">
    <label class="control-label col-sm-3">C. difficile antigen</label>
    <div class="col-sm-8">

      <label class="radio-inline">
        <input class="" type="radio" value="pending" ng-model="editing.microbiology_test.c_difficile_antigen">
        pending
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="positive" ng-model="editing.microbiology_test.c_difficile_antigen">
        positive
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="negative" ng-model="editing.microbiology_test.c_difficile_antigen">
        negative
      </label>

    </div>
  </div>

  <div class="form-group">
    <label class="control-label col-sm-3">C. difficile toxin</label>
    <div class="col-sm-8">

      <label class="radio-inline">
        <input class="" type="radio" value="pending" ng-model="editing.microbiology_test.c_difficile_toxin">
        pending
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="positive" ng-model="editing.microbiology_test.c_difficile_toxin">
        positive
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="negative" ng-model="editing.microbiology_test.c_difficile_toxin">
        negative
      </label>

    </div>
  </div>

</span>

<span ng-show="testType == 'micro_test_leishmaniasis_pcr'">

  <div class="form-group">
    <label class="control-label col-sm-3">Species</label>
    <div class="col-sm-8">
      <input class="form-control" type="text" ng-model="editing.microbiology_test.species">
    </div>
  </div>

  <div class="form-group">
    <label class="control-label col-sm-3">Result</label>
    <div class="col-sm-8">

      <label class="radio-inline">
        <input class="" type="radio" value="pending" ng-model="editing.microbiology_test.result" name="test_leish_pcr">
        pending
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="positive" ng-model="editing.microbiology_test.result" name="test_leish_pcr">
        positive
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="negative" ng-model="editing.microbiology_test.result" name="test_leish_pcr">
        negative
      </label>

    </div>
  </div>

</span>

<span ng-show="testType == 'micro_test_csf_pcr'">

  <div class="form-group">
    <label class="control-label col-sm-3">HSV-1</label>
    <div class="col-sm-8">

      <label class="radio-inline">
        <input class="" type="radio" value="pending" ng-model="editing.microbiology_test.hsv_1" name="test_csf_pcr">
        pending
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="positive" ng-model="editing.microbiology_test.hsv_1" name="test_csf_pcr">
        positive
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="negative" ng-model="editing.microbiology_test.hsv_1" name="test_csf_pcr">
        negative
      </label>

    </div>
  </div>

  <div class="form-group">
    <label class="control-label col-sm-3">HSV-2</label>
    <div class="col-sm-8">

      <label class="radio-inline">
        <input class="" type="radio" value="pending" ng-model="editing.microbiology_test.hsv_2">
        pending
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="positive" ng-model="editing.microbiology_test.hsv_2">
        positive
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="negative" ng-model="editing.microbiology_test.hsv_2">
        negative
      </label>

    </div>
  </div>

  <div class="form-group">
    <label class="control-label col-sm-3">Enterovirus</label>
    <div class="col-sm-8">

      <label class="radio-inline">
        <input class="" type="radio" value="pending" ng-model="editing.microbiology_test.enterovirus">
        pending
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="positive" ng-model="editing.microbiology_test.enterovirus">
        positive
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="negative" ng-model="editing.microbiology_test.enterovirus">
        negative
      </label>

    </div>
  </div>

  <div class="form-group">
    <label class="control-label col-sm-3">CMV</label>
    <div class="col-sm-8">

      <label class="radio-inline">
        <input class="" type="radio" value="pending" ng-model="editing.microbiology_test.cmv">
        pending
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="positive" ng-model="editing.microbiology_test.cmv">
        positive
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="negative" ng-model="editing.microbiology_test.cmv">
        negative
      </label>

    </div>
  </div>

  <div class="form-group">
    <label class="control-label col-sm-3">EBV</label>
    <div class="col-sm-8">

      <label class="radio-inline">
        <input class="" type="radio" value="pending" ng-model="editing.microbiology_test.ebv">
        pending
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="positive" ng-model="editing.microbiology_test.ebv">
        positive
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="negative" ng-model="editing.microbiology_test.ebv">
        negative
      </label>

    </div>
  </div>

  <div class="form-group">
    <label class="control-label col-sm-3">VZV</label>
    <div class="col-sm-8">

      <label class="radio-inline">
        <input class="" type="radio" value="pending" ng-model="editing.microbiology_test.vzv">
        pending
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="positive" ng-model="editing.microbiology_test.vzv">
        positive
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="negative" ng-model="editing.microbiology_test.vzv">
        negative
      </label>

    </div>
  </div>

</span>

<span ng-show="testType == 'micro_test_respiratory_virus_pcr'">
  <div class="form-group">
    <label class="control-label col-sm-3">Influenza-A</label>
    <div class="col-sm-8">

      <label class="radio-inline">
        <input class="" type="radio" value="pending" ng-model="editing.microbiology_test.influenza_a">
        pending
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="positive" ng-model="editing.microbiology_test.influenza_a">
        positive
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="negative" ng-model="editing.microbiology_test.influenza_a">
        negative
      </label>
    </div>
  </div>

  <div class="form-group">
    <label class="control-label col-sm-3">Influenza-B</label>
    <div class="col-sm-8">

      <label class="radio-inline">
        <input class="" type="radio" value="pending" ng-model="editing.microbiology_test.influenza_b">
        pending
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="positive" ng-model="editing.microbiology_test.influenza_b">
        positive
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="negative" ng-model="editing.microbiology_test.influenza_b">
        negative
      </label>

    </div>
  </div>

  <div class="form-group">
    <label class="control-label col-sm-3">Parainfluenza</label>
    <div class="col-sm-8">

      <label class="radio-inline">
        <input class="" type="radio" value="pending" ng-model="editing.microbiology_test.parainfluenza">
        pending
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="positive" ng-model="editing.microbiology_test.parainfluenza">
        positive
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="negative" ng-model="editing.microbiology_test.parainfluenza">
        negative
      </label>

    </div>
  </div>

  {% radio field="MicrobiologyTest.rhinovirus" %}

  <div class="form-group">
    <label class="control-label col-sm-3">Metapneumovirus</label>
    <div class="col-sm-8">

      <label class="radio-inline">
        <input class="" type="radio" value="pending" ng-model="editing.microbiology_test.metapneumovirus">
        pending
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="positive" ng-model="editing.microbiology_test.metapneumovirus">
        positive
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="negative" ng-model="editing.microbiology_test.metapneumovirus">
        negative
      </label>

    </div>
  </div>

  <div class="form-group">
    <label class="control-label col-sm-3">RSV</label>
    <div class="col-sm-8">

      <label class="radio-inline">
        <input class="" type="radio" value="pending" ng-model="editing.microbiology_test.rsv">
        pending
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="positive" ng-model="editing.microbiology_test.rsv">
        positive
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="negative" ng-model="editing.microbiology_test.rsv">
        negative
      </label>

    </div>
  </div>

  <div class="form-group">
    <label class="control-label col-sm-3">Adenovirus</label>
    <div class="col-sm-8">

      <label class="radio-inline">
        <input class="" type="radio" value="pending" ng-model="editing.microbiology_test.adenovirus">
        pending
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="positive" ng-model="editing.microbiology_test.adenovirus">
        positive
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="negative" ng-model="editing.microbiology_test.adenovirus">
        negative
      </label>

    </div>
  </div>

</span>

<span ng-show="testType == 'micro_test_stool_pcr'">

  <div class="form-group">
    <label class="control-label col-sm-3">Norovirus</label>
    <div class="col-sm-8">

      <label class="radio-inline">
        <input class="" type="radio" value="pending" ng-model="editing.microbiology_test.norovirus">
        pending
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="positive" ng-model="editing.microbiology_test.norovirus">
        positive
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="negative" ng-model="editing.microbiology_test.norovirus">
        negative
      </label>

    </div>
  </div>

  <div class="form-group">
    <label class="control-label col-sm-3">Rotavirus</label>
    <div class="col-sm-8">

      <label class="radio-inline">
        <input class="" type="radio" value="pending" ng-model="editing.microbiology_test.rotavirus">
        pending
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="positive" ng-model="editing.microbiology_test.rotavirus">
        positive
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="negative" ng-model="editing.microbiology_test.rotavirus">
        negative
      </label>

    </div>
  </div>

  <div class="form-group">
    <label class="control-label col-sm-3">Adenovirus</label>
    <div class="col-sm-8">

      <label class="radio-inline">
        <input class="" type="radio" value="pending" ng-model="editing.microbiology_test.adenovirus">
        pending
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="positive" ng-model="editing.microbiology_test.adenovirus">
        positive
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="negative" ng-model="editing.microbiology_test.adenovirus">
        negative
      </label>

    </div>
  </div>

</span>

<span ng-show="testType == 'micro_test_stool_parasitology_pcr'">

  <div class="form-group">
    <label class="control-label col-sm-3">Giardia</label>
    <div class="col-sm-8">

      <label class="radio-inline">
        <input class="" type="radio" value="pending" ng-model="editing.microbiology_test.giardia">
        pending
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="positive" ng-model="editing.microbiology_test.giardia">
        positive
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="negative" ng-model="editing.microbiology_test.giardia">
        negative
      </label>

    </div>
  </div>

  <div class="form-group">
    <label class="control-label col-sm-3">Entamoeba Histolytica</label>
    <div class="col-sm-8">

      <label class="radio-inline">
        <input class="" type="radio" value="pending" ng-model="editing.microbiology_test.entamoeba_histolytica">
        pending
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="positive" ng-model="editing.microbiology_test.entamoeba_histolytica">
        positive
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="negative" ng-model="editing.microbiology_test.entamoeba_histolytica">
        negative
      </label>

    </div>
  </div>

  <div class="form-group">
    <label class="control-label col-sm-3">Cryptosporidium</label>
    <div class="col-sm-8">

      <label class="radio-inline">
        <input class="" type="radio" value="pending" ng-model="editing.microbiology_test.cryptosporidium">
        pending
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="positive" ng-model="editing.microbiology_test.cryptosporidium">
        positive
      </label>

      <label class="radio-inline">
        <input class="" type="radio" value="negative" ng-model="editing.microbiology_test.cryptosporidium">
        negative
      </label>

    </div>
  </div>

</span>

<div ng-show="testType == 'micro_test_other'">
  {% input field="MicrobiologyTest.result" element_name="'result_text'" %}
</div>

{% select field="MicrobiologyTest.hiv_declined" show="editing.microbiology_test.test == 'HIV Point of Care' && editing.microbiology_test.result == 'not done'" lookuplist="hiv_no_list" %}
{% checkbox field="MicrobiologyTest.alert_investigation" %}

{% radio field="MicrobiologyTest.spotted_fever_igm" show="editing.microbiology_test.test == 'Rickettsia Serology'" lookuplist="['pending', 'positive', 'negative', 'equivocal', 'not done']" %}
{% radio field="MicrobiologyTest.spotted_fever_igg" show="editing.microbiology_test.test == 'Rickettsia Serology'" lookuplist="['pending', 'positive', 'negative', 'equivocal', 'not done']" %}
{% radio field="MicrobiologyTest.typhus_group_igm" show="editing.microbiology_test.test == 'Rickettsia Serology'" lookuplist="['pending', 'positive', 'negative', 'equivocal', 'not done']" %}
{% radio field="MicrobiologyTest.typhus_group_igg" show="editing.microbiology_test.test == 'Rickettsia Serology'" lookuplist="['pending', 'positive', 'negative', 'equivocal', 'not done']" %}
{% radio field="MicrobiologyTest.scrub_typhus_igm" show="editing.microbiology_test.test == 'Rickettsia Serology'" lookuplist="['pending', 'positive', 'negative', 'equivocal', 'not done']" %}
{% radio field="MicrobiologyTest.scrub_typhus_igg" show="editing.microbiology_test.test == 'Rickettsia Serology'" lookuplist="['pending', 'positive', 'negative', 'equivocal', 'not done']" %}
